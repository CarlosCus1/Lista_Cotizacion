import{j as e,c as u}from"./index-183a8957.js";import{r as h}from"./vendor-b1791c80.js";import"./utils-6c4e335f.js";function r({children:b,content:p,position:x="top",variant:i="primary",delay:y=300,className:d=""}){const[n,o]=h.useState(!1),[a,m]=h.useState(null),t=()=>{const j=setTimeout(()=>{o(!0)},y);m(j)},c=()=>{a&&(clearTimeout(a),m(null)),o(!1)},s={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},l={primary:"bg-blue-800 text-white border-blue-600",secondary:"bg-gray-800 text-white border-gray-600",success:"bg-green-700 text-white border-green-600",warning:"bg-yellow-600 text-white border-yellow-500",danger:"bg-red-700 text-white border-red-600"},f={top:"top-full left-1/2 transform -translate-x-1/2 border-l-4 border-r-4 border-t-4 border-transparent",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-l-4 border-r-4 border-b-4 border-transparent",left:"left-full top-1/2 transform -translate-y-1/2 border-t-4 border-b-4 border-l-4 border-transparent",right:"right-full top-1/2 transform -translate-y-1/2 border-t-4 border-b-4 border-r-4 border-transparent"},g={top:"border-t-gray-800",bottom:"border-t-gray-800",left:"border-l-gray-800",right:"border-r-gray-800"};return e.jsxs("div",{className:`relative inline-block ${d}`,onMouseEnter:t,onMouseLeave:c,onFocus:t,onBlur:c,children:[b,n&&e.jsxs("div",{className:`
            absolute z-50 px-3 py-2 text-sm font-medium rounded-md shadow-lg
            border whitespace-nowrap
            ${s[x]}
            ${l[i]}
            animate-fade-in
          `,role:"tooltip",children:[p,e.jsx("div",{className:`
              absolute w-0 h-0 
              ${f[x]}
              ${i==="primary"?g[x]:""}
            `})]})]})}function k({data:b,formatMoney:p,descOcultos:x,descManualCount:i,setDescManualCount:y,updateRow:d,sortKey:n,sortDir:o,handleSort:a}){const m=`
    8%            /* cÃ³digo */
    36%           /* nombre - espacio prioritario */
    6%            /* stock */
    8%            /* precio base */
    5% 5% 5% 5%  /* descuentos */
    7%            /* manual 1 */
    ${i>=2?"6% ":""}  /* manual 2 */
    ${i>=3?"6% ":""}  /* manual 3 */
    5%            /* sin desc */
    8%            /* s/igv */
    8%            /* c/igv */
  `.replace(/\s+/g," ").trim();return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("div",{className:"grid gap-0 w-full min-w-[1000px]",style:{gridTemplateColumns:m},children:[e.jsxs("div",{className:"contents h-12",children:[" ",e.jsx(r,{content:"Ordenar productos por cÃ³digo",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("codigo"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-2 py-2 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["cÃ³digo",n==="codigo"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por nombre",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("nombre"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-4 py-2 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["nombre",n==="nombre"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por stock disponible",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("stock"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-2 py-2 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["stock",n==="stock"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por precio de lista",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("precio_lista"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-2 py-2 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["precio base",n==="precio_lista"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Descuento fijo 1 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"desc1"})}),e.jsx(r,{content:"Descuento fijo 2 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"desc2"})}),e.jsx(r,{content:"Descuento fijo 3 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"desc3"})}),e.jsx(r,{content:"Descuento fijo 4 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"desc4"})}),e.jsx(r,{content:"Descuento manual personalizable - se aplica a todos los productos",position:"bottom",variant:"warning",delay:200,children:e.jsxs("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:[e.jsx("span",{className:"hidden sm:inline",children:"Manual 1"}),e.jsx("span",{className:"sm:hidden",children:"M1"})]})}),i>=2&&e.jsx(r,{content:"Segundo descuento manual personalizable",position:"bottom",variant:"warning",delay:200,children:e.jsxs("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:[e.jsx("span",{className:"hidden sm:inline",children:"Manual 2"}),e.jsx("span",{className:"sm:hidden",children:"M2"})]})}),i>=3&&e.jsx(r,{content:"Tercer descuento manual personalizable",position:"bottom",variant:"warning",delay:200,children:e.jsxs("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:[e.jsx("span",{className:"hidden sm:inline",children:"Manual 3"}),e.jsx("span",{className:"sm:hidden",children:"M3"})]})}),e.jsx(r,{content:"Marcar para omitir descuentos fijos y ocultos (mantiene descuentos manuales)",position:"bottom",variant:"danger",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-1 py-2 border-r border-primary-600 flex items-center justify-center w-full h-full",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{className:"hidden md:inline",children:"sin desc."}),e.jsx("span",{className:"md:hidden",children:"?"})]})})}),e.jsx(r,{content:"Ordenar productos por precio sin IGV",position:"bottom",variant:"success",delay:200,children:e.jsxs("button",{onClick:()=>a("neto"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-2 py-2 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:[e.jsx("span",{className:"hidden sm:inline",children:"s/igv"}),e.jsx("span",{className:"sm:hidden",children:"s/I"}),n==="neto"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por precio con IGV incluido",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("final"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-sm shadow-md px-2 py-2 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:[e.jsx("span",{className:"hidden sm:inline",children:"c/igv"}),e.jsx("span",{className:"sm:hidden",children:"c/I"}),n==="final"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})})]}),e.jsx("div",{className:"contents overflow-y-auto max-h-[540px]",children:b.map((t,c)=>e.jsxs("div",{className:"contents h-12",children:[" ",e.jsx("div",{className:"px-2 py-2 font-mono text-sm border-r border-gray-200 border-b flex items-center justify-start hover:bg-gray-50 h-full",children:e.jsxs("div",{className:"flex items-center gap-1",children:[t.sinDescuentos&&e.jsx(r,{content:"Producto en lista negra - Sin descuentos automÃ¡ticos",position:"top",variant:"danger",delay:200,children:e.jsx("span",{className:"text-red-500 font-bold",children:"ðŸš«"})}),t.codigo]})}),e.jsx(r,{content:t.nombre,position:"right",variant:"secondary",delay:500,className:"w-full",children:e.jsx("div",{className:"px-4 py-2 border-r border-gray-200 border-b flex items-start hover:bg-gray-50 h-full",children:e.jsx("div",{className:"font-medium text-sm break-words line-clamp-2 hover:line-clamp-none hover:whitespace-normal transition-all duration-200 cursor-help w-full",children:t.nombre})})}),e.jsx("div",{className:"px-2 py-2 text-right border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:`Stock disponible: ${t.stock||0} unidades`,position:"top",variant:(t.stock||0)>20?"success":(t.stock||0)>10?"warning":"danger",delay:200,children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${(t.stock||0)>20?"bg-success-100 text-success-800":(t.stock||0)>10?"bg-warning-100 text-warning-800":"bg-danger-100 text-danger-800"}`,children:t.stock||0})})}),e.jsx("div",{className:"px-2 py-2 text-right tabular-nums font-mono text-sm border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Precio de lista sin descuentos",position:"top",variant:"secondary",delay:200,children:p(t.precio_lista)})}),e.jsx(r,{content:`Descuento fijo 1: ${t.desc1?parseFloat(t.desc1).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-2 text-right tabular-nums font-mono text-gray-500 text-sm border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc1?parseFloat(t.desc1).toFixed(2):""})}),e.jsx(r,{content:`Descuento fijo 2: ${t.desc2?parseFloat(t.desc2).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-2 text-right tabular-nums font-mono text-gray-500 text-sm border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc2?parseFloat(t.desc2).toFixed(2):""})}),e.jsx(r,{content:`Descuento fijo 3: ${t.desc3?parseFloat(t.desc3).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-2 text-right tabular-nums font-mono text-gray-500 text-sm border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc3?parseFloat(t.desc3).toFixed(2):""})}),e.jsx(r,{content:`Descuento fijo 4: ${t.desc4?parseFloat(t.desc4).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-2 text-right tabular-nums font-mono text-gray-500 text-sm border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc4?parseFloat(t.desc4).toFixed(2):""})}),e.jsx("div",{className:"px-1 py-2 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Descuento manual 1 - se aplica siempre",position:"top",variant:"warning",delay:200,children:e.jsx("input",{type:"text",className:"w-14 border border-gray-300 rounded px-1 py-1 text-right tabular-nums text-sm",placeholder:"0.00",defaultValue:t.descManual1.toFixed(2),onFocus:s=>s.target.select(),onBlur:s=>{const l=parseFloat(s.target.value)||0;d(c,"descManual1",l.toFixed(2))}})})}),i>=2&&e.jsx("div",{className:"px-1 py-2 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Descuento manual 2 - se aplica siempre",position:"top",variant:"warning",delay:200,children:e.jsx("input",{type:"text",className:"w-14 border border-gray-300 rounded px-1 py-1 text-right tabular-nums text-sm",placeholder:"0.00",defaultValue:t.descManual2.toFixed(2),onFocus:s=>s.target.select(),onBlur:s=>{const l=parseFloat(s.target.value)||0;d(c,"descManual2",l.toFixed(2))}})})}),i>=3&&e.jsx("div",{className:"px-1 py-2 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Descuento manual 3 - se aplica siempre",position:"top",variant:"warning",delay:200,children:e.jsx("input",{type:"text",className:"w-14 border border-gray-300 rounded px-1 py-1 text-right tabular-nums text-sm",placeholder:"0.00",defaultValue:(t.descManual3||0).toFixed(2),onFocus:s=>s.target.select(),onBlur:s=>{const l=parseFloat(s.target.value)||0;d(c,"descManual3",l.toFixed(2))}})})}),e.jsx("div",{className:"px-1 py-2 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Marcar para saltar descuentos fijos y ocultos (mantiene descuentos manuales)",position:"top",variant:"danger",delay:200,children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 focus:ring-2",checked:t.sinDescuentos||!1,onChange:s=>d(c,"sinDescuentos",s.target.checked)})})}),e.jsx("div",{className:"px-2 py-2 text-right tabular-nums font-mono text-success-600 text-sm border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Precio sin IGV despuÃ©s de aplicar descuentos",position:"top",variant:"success",delay:200,children:(()=>{const s=u(t,x);return p(s.neto)})()})}),e.jsx("div",{className:"px-2 py-2 text-right tabular-nums font-mono font-bold text-primary-600 text-sm border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Precio con IGV incluido (18%)",position:"top",variant:"primary",delay:200,children:(()=>{const s=u(t,x);return p(s.final)})()})})]},t.idx))})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"grid gap-0 w-full min-w-[1200px]",style:{gridTemplateColumns:m},children:[e.jsxs("div",{className:"contents h-10",children:[e.jsx(r,{content:"Ordenar productos por cÃ³digo",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("codigo"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["cÃ³digo",n==="codigo"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por nombre",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("nombre"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-2 py-1 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["nombre",n==="nombre"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por stock disponible",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("stock"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["stock",n==="stock"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por precio de lista",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("precio_lista"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["precio base",n==="precio_lista"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Descuento fijo 1 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"d1"})}),e.jsx(r,{content:"Descuento fijo 2 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"d2"})}),e.jsx(r,{content:"Descuento fijo 3 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"d3"})}),e.jsx(r,{content:"Descuento fijo 4 para esta lÃ­nea de productos",position:"bottom",variant:"secondary",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"d4"})}),e.jsx(r,{content:"Descuento manual personalizable - se aplica a todos los productos",position:"bottom",variant:"warning",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"M1"})}),i>=2&&e.jsx(r,{content:"Segundo descuento manual personalizable",position:"bottom",variant:"warning",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"M2"})}),i>=3&&e.jsx(r,{content:"Tercer descuento manual personalizable",position:"bottom",variant:"warning",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"M3"})}),e.jsx(r,{content:"Marcar para omitir descuentos fijos y ocultos (mantiene descuentos manuales)",position:"bottom",variant:"danger",delay:200,children:e.jsx("div",{className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center w-full h-full",children:"?"})}),e.jsx(r,{content:"Ordenar productos por precio sin IGV",position:"bottom",variant:"success",delay:200,children:e.jsxs("button",{onClick:()=>a("neto"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 border-r border-primary-600 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["s/igv",n==="neto"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})}),e.jsx(r,{content:"Ordenar productos por precio con IGV incluido",position:"bottom",variant:"primary",delay:200,children:e.jsxs("button",{onClick:()=>a("final"),className:"sticky top-0 z-10 bg-primary-800 text-white font-bold text-xs shadow-md px-1 py-1 flex items-center justify-center hover:bg-primary-700 transition-colors w-full h-full",children:["c/igv",n==="final"&&e.jsx("span",{className:"ml-1 text-xs",children:o==="asc"?"â–²":"â–¼"})]})})]}),e.jsx("div",{className:"contents overflow-y-auto max-h-[400px]",children:b.map((t,c)=>e.jsxs("div",{className:"contents h-10",children:[e.jsx("div",{className:"px-1 py-1 font-mono text-xs border-r border-gray-200 border-b flex items-center justify-start hover:bg-gray-50 h-full",children:e.jsxs("div",{className:"flex items-center gap-1",children:[t.sinDescuentos&&e.jsx(r,{content:"Producto en lista negra - Sin descuentos automÃ¡ticos",position:"top",variant:"danger",delay:200,children:e.jsx("span",{className:"text-red-500 font-bold text-xs",children:"ðŸš«"})}),e.jsx("span",{className:"truncate",children:t.codigo})]})}),e.jsx(r,{content:t.nombre,position:"right",variant:"secondary",delay:500,className:"w-full",children:e.jsx("div",{className:"px-2 py-1 border-r border-gray-200 border-b flex items-start hover:bg-gray-50 h-full",children:e.jsx("div",{className:"font-medium text-xs break-words line-clamp-1 hover:line-clamp-none hover:whitespace-normal transition-all duration-200 cursor-help w-full truncate",children:t.nombre})})}),e.jsx("div",{className:"px-1 py-1 text-right border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:`Stock disponible: ${t.stock||0} unidades`,position:"top",variant:(t.stock||0)>20?"success":(t.stock||0)>10?"warning":"danger",delay:200,children:e.jsx("span",{className:`px-1 py-0.5 rounded-full text-xs font-bold ${(t.stock||0)>20?"bg-success-100 text-success-800":(t.stock||0)>10?"bg-warning-100 text-warning-800":"bg-danger-100 text-danger-800"}`,children:t.stock||0})})}),e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono text-xs border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Precio de lista sin descuentos",position:"top",variant:"secondary",delay:200,children:p(t.precio_lista)})}),e.jsx(r,{content:`Descuento fijo 1: ${t.desc1?parseFloat(t.desc1).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono text-gray-500 text-xs border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc1?parseFloat(t.desc1).toFixed(2):""})}),e.jsx(r,{content:`Descuento fijo 2: ${t.desc2?parseFloat(t.desc2).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono text-gray-500 text-xs border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc2?parseFloat(t.desc2).toFixed(2):""})}),e.jsx(r,{content:`Descuento fijo 3: ${t.desc3?parseFloat(t.desc3).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono text-gray-500 text-xs border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc3?parseFloat(t.desc3).toFixed(2):""})}),e.jsx(r,{content:`Descuento fijo 4: ${t.desc4?parseFloat(t.desc4).toFixed(2):"0.00"}%`,position:"top",variant:"secondary",delay:200,children:e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono text-gray-500 text-xs border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:t.desc4?parseFloat(t.desc4).toFixed(2):""})}),e.jsx("div",{className:"px-1 py-1 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Descuento manual 1 - se aplica siempre",position:"top",variant:"warning",delay:200,children:e.jsx("input",{type:"text",className:"w-12 border border-gray-300 rounded px-1 py-0.5 text-right tabular-nums text-xs",placeholder:"0.00",defaultValue:t.descManual1.toFixed(2),onFocus:s=>s.target.select(),onBlur:s=>{const l=parseFloat(s.target.value)||0;d(c,"descManual1",l.toFixed(2))}})})}),i>=2&&e.jsx("div",{className:"px-1 py-1 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Descuento manual 2 - se aplica siempre",position:"top",variant:"warning",delay:200,children:e.jsx("input",{type:"text",className:"w-12 border border-gray-300 rounded px-1 py-0.5 text-right tabular-nums text-xs",placeholder:"0.00",defaultValue:t.descManual2.toFixed(2),onFocus:s=>s.target.select(),onBlur:s=>{const l=parseFloat(s.target.value)||0;d(c,"descManual2",l.toFixed(2))}})})}),i>=3&&e.jsx("div",{className:"px-1 py-1 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Descuento manual 3 - se aplica siempre",position:"top",variant:"warning",delay:200,children:e.jsx("input",{type:"text",className:"w-12 border border-gray-300 rounded px-1 py-0.5 text-right tabular-nums text-xs",placeholder:"0.00",defaultValue:(t.descManual3||0).toFixed(2),onFocus:s=>s.target.select(),onBlur:s=>{const l=parseFloat(s.target.value)||0;d(c,"descManual3",l.toFixed(2))}})})}),e.jsx("div",{className:"px-1 py-1 text-center border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Marcar para saltar descuentos fijos y ocultos (mantiene descuentos manuales)",position:"top",variant:"danger",delay:200,children:e.jsx("input",{type:"checkbox",className:"w-3 h-3 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 focus:ring-2",checked:t.sinDescuentos||!1,onChange:s=>d(c,"sinDescuentos",s.target.checked)})})}),e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono text-success-600 text-xs border-r border-gray-200 border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Precio sin IGV despuÃ©s de aplicar descuentos",position:"top",variant:"success",delay:200,children:(()=>{const s=u(t,x);return p(s.neto)})()})}),e.jsx("div",{className:"px-1 py-1 text-right tabular-nums font-mono font-bold text-primary-600 text-xs border-b flex items-center justify-center hover:bg-gray-50 h-full",children:e.jsx(r,{content:"Precio con IGV incluido (18%)",position:"top",variant:"primary",delay:200,children:(()=>{const s=u(t,x);return p(s.final)})()})})]},t.idx))})]})})})]})}export{k as default};
