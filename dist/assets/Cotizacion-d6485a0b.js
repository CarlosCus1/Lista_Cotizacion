import{u as Ne,c as Se,t as _,j as e,f as we,a as h}from"./index-0ac107ed.js";import{r as l}from"./vendor-b1791c80.js";import{u as g,w as Ce}from"./utils-6c4e335f.js";const y=.18;function ke({onBack:ae,catalogData:A=[],descOcultos:O=[]}){const[i,oe]=l.useState({ruc:"",nombre:"",oc:""}),le=t=>{const s=t.replace(/\D/g,"");return s.length===11||s.length===8},re=t=>/^\d*$/.test(t),G=i.ruc===""||le(i.ruc),U=i.oc===""||re(i.oc),[N,j]=l.useState([]),[J,ce]=l.useState(""),[I,ne]=l.useState("TODAS"),[ie,k]=l.useState(!1),[K,M]=l.useState(null),[n,de]=l.useState("codigo"),[m,W]=l.useState("asc"),[z,P]=l.useState(1),[R,xe]=l.useState(50),[x,me]=l.useState("codigo"),[p,Q]=l.useState("asc"),[V,q]=l.useState(1),[F,ue]=l.useState(50);l.useEffect(()=>{const t=localStorage.getItem("cotizacion_seleccion");if(t)try{const{items:s,timestamp:a}=JSON.parse(t),o=24*60*60*1e3;Date.now()-a<o&&(j(s),k(!0),M(new Date(a)))}catch(s){console.warn("Error loading saved selection:",s)}},[]),l.useEffect(()=>{if(N.length>0){const t={items:N,timestamp:Date.now()};localStorage.setItem("cotizacion_seleccion",JSON.stringify(t)),k(!0),M(new Date)}else localStorage.removeItem("cotizacion_seleccion"),k(!1),M(null)},[N]);const $=Ne(J,300),Y=l.useMemo(()=>{let t=A;if(I!=="TODAS"&&(t=t.filter(a=>a.linea===I)),$.trim()){const a=$.trim().toLowerCase();t=t.filter(o=>String(o.codigo).toLowerCase().includes(a)||String(o.nombre).toLowerCase().includes(a))}return[...t].sort((a,o)=>{let c=0;return x==="codigo"?c=String(a.codigo).localeCompare(String(o.codigo),void 0,{numeric:!0,sensitivity:"base"}):x==="nombre"?c=String(a.nombre).localeCompare(String(o.nombre),void 0,{sensitivity:"base"}):x==="stock"?c=(a.stock||0)-(o.stock||0):x==="precio_lista"?c=a.precio_lista-o.precio_lista:x==="precio_igv"&&(c=a.precio_lista*(1+y)-o.precio_lista*(1+y)),p==="asc"?c:-c})},[A,I,$,x,p]),X=Y.length,H=Math.ceil(X/F),Z=(V-1)*F,he=Z+F,ee=Y.slice(Z,he),u=l.useMemo(()=>{let t=N.map(s=>{const a={...s.product,descManual1:s.manualDiscounts[0]||0,descManual2:s.manualDiscounts[1]||0},{neto:o,priceAfterHiddenDiscounts:c,effectiveHiddenDiscount:d,effectiveProductDiscount:v}=Se(a,O),b=o,w=_(s.quantity*o),B=_(w*(1+y));return{...s.product,quantity:s.quantity,manualDiscounts:s.manualDiscounts,descSuma01:d,descSuma02:v,precioDescSuma01:c,unitPrice:b,totalSinIgv:w,totalConIgv:B}});return t.sort((s,a)=>{let o=0;return n==="codigo"?o=String(s.codigo).localeCompare(String(a.codigo),void 0,{numeric:!0,sensitivity:"base"}):n==="nombre"?o=String(s.nombre).localeCompare(String(a.nombre),void 0,{sensitivity:"base"}):n==="cantidad"?o=s.quantity-a.quantity:n==="precio_base"?o=s.precio_lista-a.precio_lista:n==="precio_unitario"?o=s.unitPrice-a.unitPrice:n==="subtotal"?o=parseFloat(s.totalSinIgv)-parseFloat(a.totalSinIgv):n==="total"&&(o=parseFloat(s.totalConIgv)-parseFloat(a.totalConIgv)),m==="asc"?o:-o}),t},[N,O,n,m]),ge=u.length,T=Math.ceil(ge/R),te=(z-1)*R,pe=te+R,be=u.slice(te,pe),L=l.useMemo(()=>{const t=u.reduce((o,c)=>o+c.totalSinIgv,0),s=_(t),a=_(s*(1+y));return{subtotal:_(t),totalSinIgv:s,totalConIgv:a}},[u]),se=t=>{j(s=>s.some(o=>o.product.idx===t.idx)?s.filter(o=>o.product.idx!==t.idx):[...s,{product:t,quantity:1,manualDiscounts:[0,0]}])},fe=(t,s,a)=>{j(o=>o.map(c=>{if(c.product.idx===t){const d={...c};if(s==="quantity")d.quantity=Math.max(1,parseInt(a,10)||1);else if(s.startsWith("manualDiscount")){const v=parseInt(s.replace("manualDiscount",""),10),b=[...d.manualDiscounts];b[v]=Math.max(0,parseFloat(a)||0),d.manualDiscounts=b}return d}return c}))},E=(t,s)=>{let a=s;t==="ruc"?(a=s.replace(/\D/g,""),a.length>11&&(a=a.slice(0,11))):t==="oc"&&(a=s.replace(/\D/g,"")),oe(o=>({...o,[t]:a}))},f=t=>{n===t?W(m==="asc"?"desc":"asc"):(de(t),W("asc")),P(1)},S=t=>{x===t?Q(p==="asc"?"desc":"asc"):(me(t),Q("asc")),q(1)},je=()=>{if(!u.length)return;const t=g.book_new(),s=["ruc","oc","codigo","nombre","cantidad","precio_lista","desc_cliente_%","desc_fijos_%","total_neto","con_igv"],a=u.map(r=>[i.ruc||"",i.oc||"",r.codigo,r.nombre,r.quantity,r.precio_lista,r.descSuma01?Math.round(r.descSuma01*100)/100:0,r.descSuma02?Math.round(r.descSuma02*100)/100:0,r.totalSinIgv,r.totalConIgv]),o=[[],["TOTALES","","","","","","","",L.totalSinIgv,L.totalConIgv]],c=[s,...a,...o],d=g.aoa_to_sheet(c);d["!autofilter"]={ref:g.encode_range(g.decode_range(d["!ref"]))},d["!freeze"]={xSplit:0,ySplit:1},d["!cols"]=[{wch:12},{wch:10},{wch:12},{wch:40},{wch:10},{wch:16},{wch:16},{wch:14},{wch:14},{wch:14}];const v=g.decode_range("A1:J1");for(let r=v.s.c;r<=v.e.c;r++){const D=d[g.encode_cell({r:0,c:r})];D&&(D.s={font:{bold:!0},fill:{fgColor:{rgb:"FFE6E6FA"}}})}const b=s.length+a.length,w=g.decode_range(`A${b+1}:J${b+1}`);for(let r=w.s.c;r<=w.e.c;r++){const D=d[g.encode_cell({r:b,c:r})];D&&(D.s={font:{bold:!0},fill:{fgColor:{rgb:"FFD3D3D3"}}})}const B="Cotizacion";g.book_append_sheet(t,d,B);const C=new Date,ve=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}-${String(C.getDate()).padStart(2,"0")}_${String(C.getHours()).padStart(2,"0")}-${String(C.getMinutes()).padStart(2,"0")}`,ye=`cotizacion_${i.ruc||"sin-ruc"}_${ve}.xlsx`;Ce(t,ye)};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:ae,className:"inline-flex items-center gap-2 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Volver al Catálogo"]}),e.jsx("h1",{className:"text-2xl font-bold",children:"Nueva Cotización"})]})})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-blue-100",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm3 2a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})}),"Datos del Cliente"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["RUC/DNI",!G&&i.ruc&&e.jsx("span",{className:"text-red-500 text-xs ml-2",children:"• Debe ser 8 (DNI) o 11 (RUC) dígitos"})]}),e.jsx("input",{type:"text",className:`w-full border-2 rounded-lg px-3 py-2 focus:ring-2 transition-colors ${!G&&i.ruc?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Ingrese RUC (11 dígitos) o DNI (8 dígitos)",value:i.ruc,onChange:t=>E("ruc",t.target.value),maxLength:"11"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razón Social"}),e.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Nombre del cliente o empresa",value:i.nombre,onChange:t=>E("nombre",t.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Orden de Compra",!U&&i.oc&&e.jsx("span",{className:"text-red-500 text-xs ml-2",children:"• Solo números permitidos"})]}),e.jsx("input",{type:"text",className:`w-full border-2 rounded-lg px-3 py-2 focus:ring-2 transition-colors ${!U&&i.oc?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Ingrese número de orden de compra",value:i.oc,onChange:t=>E("oc",t.target.value)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-blue-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Seleccionar Productos para Cotización"}),ie&&K&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded border border-blue-200",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:["Selección guardada ",we(K)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",className:"w-full border-2 border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Buscar productos por código, nombre o descripción...",value:J,onChange:t=>ce(t.target.value)})}),e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs("select",{className:"w-full border-2 border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:I,onChange:t=>ne(t.target.value),children:[e.jsx("option",{value:"TODAS",children:"Todas las líneas"}),[...new Set(A.map(t=>t.linea).filter(Boolean))].sort().map(t=>e.jsx("option",{value:t,children:t},t))]})})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",onChange:t=>{if(t.target.checked){const s=ee.map(a=>({product:a,quantity:1,manualDiscounts:[0,0]}));j(s)}else j([])},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:e.jsxs("button",{onClick:()=>S("codigo"),className:"hover:text-blue-600 flex items-center gap-1",children:["Código",x==="codigo"&&e.jsx("span",{children:p==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:e.jsxs("button",{onClick:()=>S("nombre"),className:"hover:text-blue-600 flex items-center gap-1",children:["Nombre",x==="nombre"&&e.jsx("span",{children:p==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:e.jsxs("button",{onClick:()=>S("stock"),className:"hover:text-blue-600 flex items-center gap-1",children:["Stock",x==="stock"&&e.jsx("span",{children:p==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Cantidad"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>S("precio_lista"),className:"hover:text-blue-600 flex items-center gap-1",children:["Precio s/IGV",x==="precio_lista"&&e.jsx("span",{children:p==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>S("precio_igv"),className:"hover:text-blue-600 flex items-center gap-1",children:["Precio c/IGV",x==="precio_igv"&&e.jsx("span",{children:p==="asc"?"▲":"▼"})]})})]})}),e.jsx("tbody",{children:ee.map(t=>{const s=u.find(o=>o.idx===t.idx),a=!!s;return e.jsxs("tr",{className:`border-b hover:bg-gray-50 ${a?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("input",{type:"checkbox",checked:a,onChange:()=>se(t),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 font-mono font-medium text-gray-900",children:t.codigo}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"font-medium text-sm leading-tight break-words line-clamp-2 hover:line-clamp-none hover:whitespace-normal transition-all duration-200 cursor-help",title:t.nombre,children:t.nombre})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${(t.stock||0)>20?"bg-green-100 text-green-800":(t.stock||0)>10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.stock||0})}),e.jsx("td",{className:"px-4 py-2 text-center",children:a?e.jsx("input",{type:"number",min:"1",className:"w-20 border border-gray-300 rounded-md px-2 py-1 text-center font-mono",value:Math.round(s.quantity),onChange:o=>fe(t.idx,"quantity",o.target.value)}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-2 text-right font-mono",children:a?h(s.unitPrice):h(t.precio_lista)}),e.jsx("td",{className:"px-4 py-2 text-right font-mono",children:a?h(s.unitPrice*(1+y)):h(t.precio_lista*(1+y))})]},t.idx)})})]})})]}),X>0&&e.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Mostrar:"}),e.jsxs("select",{value:F,onChange:t=>{ue(Number(t.target.value)),q(1)},className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"por página"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>q(t=>Math.max(1,t-1)),disabled:V===1,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"‹ Anterior"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Página ",V," de ",H]}),e.jsx("button",{onClick:()=>q(t=>Math.min(H,t+1)),disabled:V===H,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente ›"})]})]})}),u.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border-2 border-green-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Resumen de Cotización"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3",children:e.jsxs("button",{onClick:()=>f("codigo"),className:"hover:text-blue-600 flex items-center gap-1",children:["Código",n==="codigo"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:e.jsxs("button",{onClick:()=>f("nombre"),className:"hover:text-blue-600 flex items-center gap-1",children:["Nombre",n==="nombre"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:e.jsxs("button",{onClick:()=>f("cantidad"),className:"hover:text-blue-600 flex items-center gap-1",children:["Cantidad",n==="cantidad"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>f("precio_base"),className:"hover:text-blue-600 flex items-center gap-1",children:["Precio Base",n==="precio_base"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Desc. Cliente (%)"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Desc. Producto (%)"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>f("precio_unitario"),className:"hover:text-blue-600 flex items-center gap-1",children:["Precio Unitario",n==="precio_unitario"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>f("subtotal"),className:"hover:text-blue-600 flex items-center gap-1",children:["Subtotal",n==="subtotal"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>f("total"),className:"hover:text-blue-600 flex items-center gap-1",children:["Total c/IGV",n==="total"&&e.jsx("span",{children:m==="asc"?"▲":"▼"})]})}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Acción"})]})}),e.jsx("tbody",{children:be.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 font-mono font-medium text-gray-900",children:t.codigo}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"font-medium text-sm leading-tight break-words line-clamp-2 hover:line-clamp-none hover:whitespace-normal transition-all duration-200 cursor-help",title:t.nombre,children:t.nombre})}),e.jsx("td",{className:"px-4 py-2 text-center font-mono",children:Math.round(t.quantity)}),e.jsx("td",{className:"px-4 py-2 text-right font-mono",children:h(t.precio_lista)}),e.jsx("td",{className:"px-4 py-2 text-center font-mono text-sm",children:t.descSuma01?(Math.round(t.descSuma01*100)/100).toFixed(2)+"%":"0.00%"}),e.jsx("td",{className:"px-4 py-2 text-center font-mono text-sm",children:t.descSuma02?(Math.round(t.descSuma02*100)/100).toFixed(2)+"%":"0.00%"}),e.jsx("td",{className:"px-4 py-2 text-right font-mono",children:h(t.unitPrice)}),e.jsx("td",{className:"px-4 py-2 text-right font-mono font-bold text-green-700",children:h(t.totalSinIgv)}),e.jsx("td",{className:"px-4 py-2 text-right font-mono font-bold text-blue-700",children:h(t.totalConIgv)}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("button",{onClick:()=>se(t),className:"text-red-500 hover:text-red-700",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})]},t.idx))})]})})]}),u.length>0&&e.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Mostrar:"}),e.jsxs("select",{value:R,onChange:t=>{xe(Number(t.target.value)),P(1)},className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"por página"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>P(t=>Math.max(1,t-1)),disabled:z===1,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"‹ Anterior"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Página ",z," de ",T]}),e.jsx("button",{onClick:()=>P(t=>Math.min(T,t+1)),disabled:z===T,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente ›"})]})]})}),u.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-b border-gray-300 pb-2",children:[e.jsx("span",{className:"text-gray-800",children:"Subtotal (sin IGV):"}),e.jsx("span",{className:"text-green-600",children:h(L.totalSinIgv)})]}),e.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[e.jsx("span",{className:"text-gray-800",children:"Total (con IGV):"}),e.jsx("span",{className:"text-blue-600",children:h(L.totalConIgv)})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{j([]),localStorage.removeItem("cotizacion_seleccion"),k(!1),M(null)},className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Limpiar Selección"]}),e.jsxs("button",{onClick:je,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Generar Cotización"]})]})]})]})]})}export{ke as default};
